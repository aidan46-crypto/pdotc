use std::sync::{LazyLock, OnceLock};

use paste::paste;
use pdotc::client::{Api, ApiBuilder};
use pdotc::network::Westend;
use ureq::Agent;

use crate::{validate_xt, KeyStore, PDotClient};

static CLIENT: OnceLock<PDotClient<Agent>> = OnceLock::new();

static API: LazyLock<Api<KeyStore, PDotClient<Agent>, Westend>> = LazyLock::new(|| {
    let client = CLIENT.get_or_init(PDotClient::wnd);
    let keystore = KeyStore::default();
    ApiBuilder::westend(client)
        .signer(keystore)
        .build()
        .unwrap()
});

validate_xt!(staking_rebond(), "0xad01840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf027033ded85dcffa2cdd08e51daf0ebdb1b937a2bdd1256ff81b84a50a235987bf3417354266f3def1829fe8c3afc0c8d16311bb57a0d71481c993842d08f025ab000000000613a10f");
validate_xt!(staking_bond_extra(), "0xad01840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf0278a50b6c2e93061a7fc3f7e46a23e37863e25f663e8670c023a8ec906282ee110ab0067f45e9a4e73a8f5ab77618ce54aecc76a5dfd75026eb0a7c607e06e3e6000000000601a10f");
validate_xt!(staking_unbond(), "0xad01840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf02d3ef8c1bfb5b8e99bf86f8aa3601e4a1394ceace877bf611f7d9ef24e66755462cb29d897bfa3636e577230c130a835a3cb5b1bc524614f76ccfc296989b27cb000000000602a10f");
validate_xt!(staking_withdraw_unbonded(), "0xb501840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf02795069f6bee98a86bbb289da438686125ac57c03c308d46de222ecab809732862b55b7cb8f9935cab1f2da76c0efa25b83423ac8d3e31048b5573f180c16499400000000060300000000");
validate_xt!(staking_chill(), "0xa501840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf0220712db7eddb0a628a2936800b7fe62e56e70a436e1d7cc7e51b2d8f6a6425b337aa0b8ccad56f6d57cac65f77ad4172691d8abedef181a21c81519b5f940e27000000000606");
validate_xt!(
    balance_transfer("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x3102840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf026febcecbf635303e6e437964d243ac65108c16b6a2ecab358befa35fb30df8a572b0d4c50ea51a1f321a051e69419bbc9f6553dfcd3758a3718930a428f0957701000000040000ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0fa10f"
);
validate_xt!(
    staking_bond("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x3502840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf02e963b81414ee42cabe37b5a5d14b2f331f46537d5395e996a5dbb51cc8325edc5dc41fbdf424e36bc12273d71e1ab1cbb3092019122e1fa11370a928750724fa00000000060000ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0fa10f01"
);
validate_xt!(
    staking_nominate("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x2d02840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf0227ed6c6bde96af5061f4eba582e5c65d6fd35d492d3b4bc12f29a06b21f60e852f1c5e05df01c4f8085d491930b8c75536c14e5696d0e763f71379838c665e590000000006050400ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0f"
);
validate_xt!(
    staking_set_controller("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x2902840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf020c991d5314a66dcf3d1dd48986fd272b0bea4c7d0ce62c29ea63ffa6bd853386576bfa25157dcdddd39a93136d668d07601496d99b34fea4aec1c7d2f04cdccc01000000060800ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0f"
);
validate_xt!(
    proxy_add_proxy("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x3d02840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf028d3c266467cf0de0665268d82e4c7ffa9341445b4475abf6f8cddf71a998b36a671070c45a497ef15405287e379da1eadb697fff2d4ab00ef457cc871a9e3cab01000000160100ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0f0200000000"
);
validate_xt!(
    proxy_remove_proxy("5Hq465EqSK865f4cHMgDpuKZf45ukuUshFxAPCCzmJEoBoNe"),
    "0x3d02840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf02b01682be94d901375a7b42acfbd1dbe6d45a955c64a4f9da14b5cca0d29c807a264db1c96263d88bd49a867a17e01adee2d0a286916b87e7eeebe6acdcea234001000000160200ff0011afc404c2f8c72ec8bcdeb64d6367822bf3a205a9ac4c1b17ffa75c3f0f0200000000"
);
validate_xt!(proxy_remove_proxies(), "0xa501840023c0b6f69f5aff6c91972c64d1f7d1d22c78f825796553f4a261f514712dafaf02dd3eacea2ef34272c9e91c03abfa2ba81c25d9b1ac3aeb6ee92adc078d0b0efa359b3bf8ccebedb96325317f60a9f2448b7eaaf2015d4e303bf3a05ed0dfbb5b000000001603");
